# 譬ｪ蠑丞・譫舌い繝励Μ螳溯｣・ｮ御ｺ・ｱ蜻頑嶌

菴懈・譌･: 2025蟷ｴ9譛・譌･

## 搭 螳溯｣・ｦりｦ・

3谿ｵ髫弱・AI豢ｻ逕ｨ縺ｫ繧医ｋ譬ｪ蠑丞・譫舌す繧ｹ繝・Β繧貞ｮ梧・縺輔○縺ｾ縺励◆縲・

## 笨・螳御ｺ・＠縺溷ｮ溯｣・・螳ｹ

### 隨ｬ1谿ｵ髫趣ｼ啀erplexity API縺ｫ繧医ｋ驫俶氛讀懃ｴ｢

- 笨・繧ｵ繝ｳ繝励Ν繝・・繧ｿ縺ｨ繝輔か繝ｼ繝ｫ繝舌ャ繧ｯ繧貞ｮ悟・蜑企勁
- 笨・Perplexity API・・onar繝｢繝・Ν・峨↓繧医ｋ螳滄圀縺ｮ驫俶氛讀懃ｴ｢
- 笨・莨∵･ｭ諠・ｱ縺ｨ讎りｦ√・蜿門ｾ・

### 隨ｬ2谿ｵ髫趣ｼ啀erplexity API縺ｫ繧医ｋ譬ｪ萓｡蜿門ｾ・

- 笨・2繧ｹ繝・ャ繝玲､懃ｴ｢縺ｫ繧医ｋ豁｣遒ｺ縺ｪ譬ｪ萓｡諠・ｱ蜿門ｾ・
- 笨・騾夊ｲｨ蛻､蛻･繝ｭ繧ｸ繝・け縺ｮ螳溯｣・ｼ医ラ繝ｫ/蜀・・閾ｪ蜍戊ｭ伜挨・・
- 笨・譬ｪ萓｡縲∝燕譌･豈斐∝・譚･鬮倥・陦ｨ遉ｺ

### 隨ｬ3谿ｵ髫趣ｼ唹penAI API縺ｫ繧医ｋ譛ｬ譬ｼ逧・兜雉・・譫・

- 笨・GPT-4o-mini繝｢繝・Ν縺ｫ繧医ｋ隧ｳ邏ｰ蛻・梵
- 笨・讖滄未謚戊ｳ・ｮｶ繝ｬ繝吶Ν縺ｮ豺ｱ謗倥ｊ蛻・梵
- 笨・蛹・峡逧・↑蛻・梵邨先棡陦ｨ遉ｺUI

## 識 荳ｻ隕√↑謾ｹ蝟・せ

### 1. API邨ｱ蜷医・菫ｮ豁｣

```typescript
// Perplexity API - 豁｣縺励＞繝｢繝・Ν蜷・
model: 'sonar'  // 'sonar-small-online'遲峨・菴ｿ逕ｨ荳榊庄

// 騾夊ｲｨ繧呈・遒ｺ縺ｫ蜿門ｾ・
const priceQuery = `譬ｪ蠑城釜譟・・{query}縲阪・迴ｾ蝨ｨ縺ｮ譬ｪ萓｡繧帝夊ｲｨ蜊倅ｽ搾ｼ医ラ繝ｫ縺ｾ縺溘・蜀・ｼ峨ｒ譏手ｨ倥＠縺ｦ謨吶∴縺ｦ縺上□縺輔＞縲Ａ;
```

### 2. 騾夊ｲｨ蛻､蛻･繝ｭ繧ｸ繝・け

```typescript
// 蜆ｪ蜈磯・ｽ堺ｻ倥″繝代ち繝ｼ繝ｳ繝槭ャ繝√Φ繧ｰ
const pricePatterns = [
  { pattern: /\$([\d,]+\.?\d*)/, currency: 'USD' },
  { pattern: /([\d,]+\.?\d*)\s*繝峨Ν/, currency: 'USD' },
  { pattern: /([\d,]+\.?\d*)\s*蜀・, currency: 'JPY' },
  // 繧ｳ繝ｳ繝・く繧ｹ繝医°繧画耳貂ｬ
];
```

### 3. 豺ｱ謗倥ｊ蛻・梵縺ｮ螳溯｣・

- \**20蟷ｴ莉･荳翫・邨碁ｨ薙ｒ謖√▽繧ｷ繝九い繧｢繝翫Μ繧ｹ繝・*縺ｨ縺励※蛻・梵
- **讖滄未謚戊ｳ・ｮｶ蜷代￠繝ｬ繝昴・繝亥刀雉ｪ**
- **螳夐㍼逧・↑譬ｹ諡縺ｨ蜈ｷ菴鍋噪謨ｰ蛟､**繧貞ｿ・亥喧

## 投 蛻・梵鬆・岼縺ｮ隧ｳ邏ｰ

### 蝓ｺ譛ｬ蛻・梵

- 謚戊ｳ・ｭ・鴨蠎ｦ繧ｹ繧ｳ繧｢・・-100・・
- 謗ｨ螂ｨ繧｢繧ｯ繧ｷ繝ｧ繝ｳ・・UY/HOLD/SELL・・
- 謗ｨ螂ｨ逅・罰・・縺､縺ｮ隕ｳ轤ｹ縺九ｉ・・

### 隧ｳ邏ｰ蛻・梵

1. \*_讌ｭ逡悟・譫・_
   - 蟶ょｴ繝昴ず繧ｷ繝ｧ繝ｳ
   - 遶ｶ蜷亥━菴肴ｧ
   - 讌ｭ逡後ヨ繝ｬ繝ｳ繝・
   - 荳ｻ隕∫ｫｶ蜷医Μ繧ｹ繝・

2. **SWOT蛻・梵**
   - 蠑ｷ縺ｿ・・鬆・岼・・
   - 蠑ｱ縺ｿ・・鬆・岼・・
   - 讖滉ｼ夲ｼ・鬆・岼・・
   - 閼・ｨ・ｼ・鬆・岼・・

3. **繝・け繝九き繝ｫ蛻・梵**
   - 繝医Ξ繝ｳ繝峨→蠑ｷ蠎ｦ
   - 繧ｵ繝昴・繝・繝ｬ繧ｸ繧ｹ繧ｿ繝ｳ繧ｹ
   - 蜃ｺ譚･鬮伜・譫・
   - 螢ｲ雋ｷ繧ｷ繧ｰ繝翫Ν

4. **繝輔ぃ繝ｳ繝繝｡繝ｳ繧ｿ繝ｫ蛻・梵**
   - 繝舌Μ繝･繧ｨ繝ｼ繧ｷ繝ｧ繝ｳ・亥酔讌ｭ莉也､ｾ豈碑ｼ・ｼ・
   - 謌宣聞諤ｧ隧穂ｾ｡
   - 蜿守寢諤ｧ蛻・梵
   - 雋｡蜍吝▼蜈ｨ諤ｧ
   - 驟榊ｽ灘・譫・

5. **繝ｪ繧ｹ繧ｯ隧穂ｾ｡**
   - 蟶ょｴ繝ｪ繧ｹ繧ｯ
   - 莠区･ｭ繝ｪ繧ｹ繧ｯ
   - 隕丞宛繝ｪ繧ｹ繧ｯ
   - 逋ｺ逕溽｢ｺ邇・→蠖ｱ髻ｿ蠎ｦ縺ｮ螳夐㍼蛹・

6. **逶ｮ讓呎ｪ萓｡**
   - 3繝ｶ譛医・繝ｶ譛医・蟷ｴ縲・蟷ｴ縺ｮ逶ｮ讓・
   - 邂怜・譬ｹ諡・・CF縲￣ER縲￣BR遲会ｼ・
   - 荳頑・菴吝慍・茨ｼ・ｼ・

7. **謚戊ｳ・い繧ｯ繧ｷ繝ｧ繝ｳ**
   - 雋ｷ縺・お繝ｳ繝医Μ繝ｼ繝昴う繝ｳ繝・
   - 螢ｲ繧翫お繧ｰ繧ｸ繝・ヨ繝昴う繝ｳ繝・
   - 謳榊・繧翫Λ繧､繝ｳ
   - 謗ｨ螂ｨ繝昴ず繧ｷ繝ｧ繝ｳ繧ｵ繧､繧ｺ

8. \*_繧ｫ繧ｿ繝ｪ繧ｹ繝・_
   - 繝昴ず繝・ぅ繝冶ｦ∝屏
   - 繝阪ぎ繝・ぅ繝冶ｦ∝屏

## 肌 謚陦謎ｻ墓ｧ・

### 菴ｿ逕ｨAPI

- **Perplexity API**: 驫俶氛讀懃ｴ｢縺ｨ譬ｪ萓｡蜿門ｾ・
- **OpenAI API**: GPT-4o-mini縺ｫ繧医ｋ謚戊ｳ・・譫・

### 繝代ヵ繧ｩ繝ｼ繝槭Φ繧ｹ險ｭ螳・

```typescript
// OpenAI API險ｭ螳・
temperature: 0.3,  // 荳雋ｫ諤ｧ縺ｮ縺ゅｋ蛻・梵
max_tokens: 4000,  // 隧ｳ邏ｰ縺ｪ蛻・梵縺悟庄閭ｽ
response_format: { type: "json_object" }
```

### 繝ｬ繝ｼ繝亥宛髯・

- 10繝ｪ繧ｯ繧ｨ繧ｹ繝・蛻・・蛻ｶ髯仙ｮ溯｣・ｸ医∩

## 菅 隗｣豎ｺ縺励◆蝠城｡・

1. \*_Tailwind CSS v4莠呈鋤諤ｧ蝠城｡・_
   - v4.0.0-alpha.12縺九ｉv3.4.0縺ｫ繝繧ｦ繝ｳ繧ｰ繝ｬ繝ｼ繝・
   - PostCSS險ｭ螳壹・菫ｮ豁｣

2. **Perplexity API繝｢繝・Ν蜷阪お繝ｩ繝ｼ**
   - 豁｣縺励＞繝｢繝・Ν蜷阪茎onar縲阪ｒ菴ｿ逕ｨ

3. \*_騾夊ｲｨ蛻､蛻･蝠城｡・_
   - FLY縺ｪ縺ｩ邀ｳ蝗ｽ譬ｪ縺悟・陦ｨ遉ｺ縺輔ｌ繧句撫鬘後ｒ菫ｮ豁｣
   - 騾夊ｲｨ蜊倅ｽ阪ｒ譏守､ｺ逧・↓隕∵ｱゅ☆繧九・繝ｭ繝ｳ繝励ヨ縺ｫ螟画峩

## 刀 荳ｻ隕√ヵ繧｡繧､繝ｫ

- `/app/api/stock-search/route.ts` - Perplexity讀懃ｴ｢API
- `/app/api/stock-analysis/route.ts` - OpenAI蛻・梵API
- `/app/karte/SearchableKarte.tsx` - UI螳溯｣・
- `/app/lib/perplexity.ts` - Perplexity API繧ｯ繝ｩ繧､繧｢繝ｳ繝・
- `/app/lib/openai.ts` - OpenAI險ｭ螳・
- `/app/lib/rateLimiter.ts` - 繝ｬ繝ｼ繝亥宛髯・

## 脂 謌先棡

- \*_BLSH・医ヶ繝ｪ繝・す繝･・・_: 豁｣蟶ｸ縺ｫ讀懃ｴ｢繝ｻ蛻・梵蜿ｯ閭ｽ
- \*_2735・医Ρ繝・ヤ・・_: 豁｣蟶ｸ縺ｫ讀懃ｴ｢繝ｻ蛻・梵蜿ｯ閭ｽ
- \*_FLY・医ヵ繧｡繧､繧｢繝輔Λ繧､・・_: 繝峨Ν陦ｨ險倥〒豁｣縺励￥陦ｨ遉ｺ

## 庁 莉雁ｾ後・諡｡蠑ｵ蜿ｯ閭ｽ諤ｧ

1. 繝ｪ繧｢繝ｫ繧ｿ繧､繝譬ｪ萓｡譖ｴ譁ｰ
2. 繝昴・繝医ヵ繧ｩ繝ｪ繧ｪ邂｡逅・ｩ溯・
3. 繧｢繝ｩ繝ｼ繝域ｩ溯・
4. 驕主悉縺ｮ蛻・梵螻･豁ｴ菫晏ｭ・
5. 豈碑ｼ・・譫先ｩ溯・

## 柏 迺ｰ蠅・､画焚

蠢・ｦ√↑迺ｰ蠅・､画焚:

```
PERPLEXITY_API_KEY=xxx
OPENAI_API_KEY=xxx
```

---

譛ｬ譌･縺ｮ螳溯｣・・縺吶∋縺ｦ謌仙粥陬上↓螳御ｺ・＠縺ｾ縺励◆縲・
3谿ｵ髫弱・AI豢ｻ逕ｨ縺ｫ繧医ｋ鬮伜ｺｦ縺ｪ譬ｪ蠑丞・譫舌す繧ｹ繝・Β縺檎ｨｼ蜒堺ｸｭ縺ｧ縺吶
